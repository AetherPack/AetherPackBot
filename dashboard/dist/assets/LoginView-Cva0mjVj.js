import{a as b,o as g,j as d,k as e,l as k,w,t as p,m as v,n as x,v as f,p as h,q as V,r as l,e as i}from"./vendor-BrbMrNWY.js";import{u as _}from"./index-DOewkrcI.js";const A={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-900 dark:to-gray-950 p-4"},B={class:"w-full max-w-md"},C={class:"card"},S={key:0,class:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"},M={class:"text-sm text-red-600 dark:text-red-400"},N=["disabled"],j={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24"},T=b({__name:"LoginView",setup(z){const u=V(),c=_(),r=l(""),o=l(""),a=l(!1),s=l("");async function y(){if(!r.value||!o.value){s.value="请输入用户名和密码";return}a.value=!0,s.value="";try{await c.login(r.value,o.value)?u.push("/"):s.value="用户名或密码错误"}catch{s.value="登录失败，请稍后重试"}finally{a.value=!1}}return g(()=>{c.isAuthenticated&&u.push("/")}),(m,t)=>(i(),d("div",A,[e("div",B,[t[6]||(t[6]=k('<div class="text-center mb-8"><div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl shadow-lg mb-4"><span class="text-white font-bold text-2xl">A</span></div><h1 class="text-2xl font-bold text-gray-900 dark:text-white">AetherPackBot</h1><p class="text-gray-500 dark:text-gray-400 mt-2">登录到管理面板</p></div>',1)),e("div",C,[e("form",{onSubmit:w(y,["prevent"]),class:"space-y-6"},[s.value?(i(),d("div",S,[e("p",M,p(s.value),1)])):v("",!0),e("div",null,[t[2]||(t[2]=e("label",{for:"username",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 用户名 ",-1)),x(e("input",{id:"username","onUpdate:modelValue":t[0]||(t[0]=n=>r.value=n),type:"text",class:"input",placeholder:"请输入用户名",autocomplete:"username"},null,512),[[f,r.value]])]),e("div",null,[t[3]||(t[3]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"}," 密码 ",-1)),x(e("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=n=>o.value=n),type:"password",class:"input",placeholder:"请输入密码",autocomplete:"current-password"},null,512),[[f,o.value]])]),e("button",{type:"submit",disabled:a.value,class:"btn-primary w-full"},[a.value?(i(),d("svg",j,[...t[4]||(t[4]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):v("",!0),h(" "+p(a.value?"登录中...":"登录"),1)],8,N)],32),t[5]||(t[5]=e("div",{class:"mt-6 text-center"},[e("p",{class:"text-xs text-gray-500 dark:text-gray-400"}," 默认账号: aetherpackbot / aetherpackbot ")],-1))])])]))}});export{T as default};
